{"ast":null,"code":"// import React, {useEffect, useState} from 'react';\n// import ReactDOM from 'react-dom';\n// import axios from 'axios';\n// import {v4 as uuid} from 'uuid';\n// // import './index.css';\n\n// const App = () => {\n//   const[movies, setMovies] = useState([]);\n//   const[search, setSearch] = useState('');\n//   const[year, setYear] = useState('');\n//   const[showmovies,setShowemovies] = useState(movies)\n\n//   const y = (new Date()).getFullYear();\n//   const years = Array.from(new Array(25), (val, index) => y-index);\n\n//   useEffect(() => {\n//     getMovies(year);\n//   }, [])\n\n//   useEffect(() => {\n//     getMovies(year);\n//   }, [year])\n\n//   // useEffect(() => {\n//   //   if(movies===undefined) return;\n\n//   //   movies.forEach((item) => {\n//   //     const id = uuid();\n//   //     item.id=id;\n//   //     setShowemovies([...movies])\n//   //   })\n//   // }, [movies])\n\n// const getMovies = async (year='') => {\n//   try{ \n//     let moviesRequest; \n//     if(search.length>2){\n//       moviesRequest = await axios.get(\n//       `http://www.omdbapi.com/?s=${search}&y=${year}&apikey=d0108237`\n//     )}\n//     else {\n//       moviesRequest = await axios.get(\n//       `http://www.omdbapi.com/?s=Iron&y=${year}&apikey=d0108237`\n//     )}\n//     console.log(moviesRequest.data.Search)\n//     setMovies(moviesRequest.data.Search)\n//   }\n//   catch (error){\n//     console.log(error)\n//   }\n// }\n\n// const filterYear = (e) => {\n//   setYear(e.target.value)\n// }\n// // useEffect(() => {\n// //   getMovies(page,year);\n// // },[page])\n\n//   return (\n//     <div>\n//       <input type=\"text\" onChange={(e)=>{setSearch(e.target.value)}} />\n//       {/* <button onClick={(() => {getMovies(search)})}> Search </button> */}\n//       <button onClick={(() => {getMovies(year)})}> Search </button>\n//       <select onChange={filterYear}>\n//         <option value=\"\" hidden >Year</option> \n//         {\n//           years.map((year, index) => {\n//             return <option key={`year${index}`} value={year}>{year}</option>\n//           })\n//         }\n//       </select>\n\n//       <div className=\"movies-container\">\n//         {movies==undefined? (\n//           <div> Movies not found</div>\n//         ) : (showmovies.length>0 ?(\n//           showmovies.map((m) => {\n//             return (\n//               <div>\n//                 {m.Poster===\"N/A\"?(\n//                   <div> Poster not available</div>\n//                 ):(\n//                   <img src={m.Poster} alt=\"\" />\n//                 )}\n//               </div>\n//             )\n//           })\n//           ):(''))}\n//       </div>\n//       {movies && movies.length > 0 ? movies.map(m => {\n//         return (\n//           <div>\n//             <img src={m.Poster} alt=\"\" />\n//             <p>{m.Title}</p>\n//           </div>\n//         )\n//       }): ''}\n//     </div>\n//   )\n// }\n\n// ReactDOM.render(<App/>, document.getElementById('root'));","map":{"version":3,"names":[],"sources":["/Users/swastiksharma/Desktop/projects/movies/src/pages/layout.js"],"sourcesContent":["// import React, {useEffect, useState} from 'react';\n// import ReactDOM from 'react-dom';\n// import axios from 'axios';\n// import {v4 as uuid} from 'uuid';\n// // import './index.css';\n\n// const App = () => {\n//   const[movies, setMovies] = useState([]);\n//   const[search, setSearch] = useState('');\n//   const[year, setYear] = useState('');\n//   const[showmovies,setShowemovies] = useState(movies)\n\n\n//   const y = (new Date()).getFullYear();\n//   const years = Array.from(new Array(25), (val, index) => y-index);\n\n//   useEffect(() => {\n//     getMovies(year);\n//   }, [])\n\n//   useEffect(() => {\n//     getMovies(year);\n//   }, [year])\n\n//   // useEffect(() => {\n//   //   if(movies===undefined) return;\n\n//   //   movies.forEach((item) => {\n//   //     const id = uuid();\n//   //     item.id=id;\n//   //     setShowemovies([...movies])\n//   //   })\n//   // }, [movies])\n\n// const getMovies = async (year='') => {\n//   try{ \n//     let moviesRequest; \n//     if(search.length>2){\n//       moviesRequest = await axios.get(\n//       `http://www.omdbapi.com/?s=${search}&y=${year}&apikey=d0108237`\n//     )}\n//     else {\n//       moviesRequest = await axios.get(\n//       `http://www.omdbapi.com/?s=Iron&y=${year}&apikey=d0108237`\n//     )}\n//     console.log(moviesRequest.data.Search)\n//     setMovies(moviesRequest.data.Search)\n//   }\n//   catch (error){\n//     console.log(error)\n//   }\n// }\n\n// const filterYear = (e) => {\n//   setYear(e.target.value)\n// }\n// // useEffect(() => {\n// //   getMovies(page,year);\n// // },[page])\n\n\n\n//   return (\n//     <div>\n//       <input type=\"text\" onChange={(e)=>{setSearch(e.target.value)}} />\n//       {/* <button onClick={(() => {getMovies(search)})}> Search </button> */}\n//       <button onClick={(() => {getMovies(year)})}> Search </button>\n//       <select onChange={filterYear}>\n//         <option value=\"\" hidden >Year</option> \n//         {\n//           years.map((year, index) => {\n//             return <option key={`year${index}`} value={year}>{year}</option>\n//           })\n//         }\n//       </select>\n\n//       <div className=\"movies-container\">\n//         {movies==undefined? (\n//           <div> Movies not found</div>\n//         ) : (showmovies.length>0 ?(\n//           showmovies.map((m) => {\n//             return (\n//               <div>\n//                 {m.Poster===\"N/A\"?(\n//                   <div> Poster not available</div>\n//                 ):(\n//                   <img src={m.Poster} alt=\"\" />\n//                 )}\n//               </div>\n//             )\n//           })\n//           ):(''))}\n//       </div>\n//       {movies && movies.length > 0 ? movies.map(m => {\n//         return (\n//           <div>\n//             <img src={m.Poster} alt=\"\" />\n//             <p>{m.Title}</p>\n//           </div>\n//         )\n//       }): ''}\n//     </div>\n//   )\n// }\n\n// ReactDOM.render(<App/>, document.getElementById('root'));\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}